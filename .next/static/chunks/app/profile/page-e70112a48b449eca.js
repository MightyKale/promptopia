(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{7352:function(e,t,s){Promise.resolve().then(s.bind(s,7690))},7690:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var a=s(7437),r=s(2749),i=s(2265),n=s(4033),l=s(8905),o=e=>{let{name:t,desc:s,data:r,handleEdit:i,handleDelete:n}=e;return(0,a.jsxs)("section",{className:"w-full",children:[(0,a.jsx)("h1",{className:"head_text text-left",children:(0,a.jsxs)("span",{className:"blue_gradient",children:[t," Profile"]})}),(0,a.jsx)("p",{className:"desc text-left",children:s}),(0,a.jsx)("div",{className:"mt-10 prompt_layout",children:r.map(e=>(0,a.jsx)(l.Z,{post:e,handleEdit:()=>i&&i(e),handleDelete:()=>n&&n(e)},e._id))})]})},c=()=>{let e=(0,n.useRouter)(),{data:t}=(0,r.useSession)(),[s,l]=(0,i.useState)([]);(0,i.useEffect)(()=>{let e=async()=>{let e=await fetch("/api/users/".concat(null==t?void 0:t.user.id,"/posts")),s=await e.json();l(s)};(null==t?void 0:t.user.id)&&e()},[null==t?void 0:t.user.id]);let c=async e=>{let t=confirm("Are you sure you want to delete this prompt");if(t)try{await fetch("/api/prompt/".concat(e._id.toString()),{method:"DELETE"});let t=s.filter(t=>t._id!==e._id);l(t)}catch(e){console.log(e)}};return(0,a.jsx)(o,{name:"My",desc:"Welcome to your personalized profile page",data:s,handleEdit:t=>{e.push("/update-prompt?id=".concat(t._id))},handleDelete:c})}},8905:function(e,t,s){"use strict";var a=s(7437),r=s(2265),i=s(6691),n=s.n(i),l=s(2749),o=s(4033);t.Z=e=>{let{post:t,handleTagClick:s,handleEdit:i,handleDelete:c}=e,{data:d}=(0,l.useSession)(),u=(0,o.usePathname)();(0,o.useRouter)();let[m,p]=(0,r.useState)("");return(0,a.jsxs)("div",{className:"prompt_card",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start gap-5",children:[(0,a.jsxs)("div",{className:"flex-1 flex justify-start items-center gap-3 cursor-pointer",children:[(0,a.jsx)(n(),{src:t.creator.image?t.creator.image:"assets/images/logo.svg",alt:"user_image",width:40,height:40,className:"rounded-full object-contain"}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("h3",{className:"font-satoshi font-semibold text-gray-900",children:t.creator.username}),(0,a.jsx)("p",{className:"font-inter text-sm text-gray-500",children:t.creator.email})]})]}),(0,a.jsx)("div",{className:"copy_btn",onClick:()=>{p(t.prompt),navigator.clipboard.writeText(t.prompt),setTimeout(()=>p(""),3e3)},children:(0,a.jsx)(n(),{src:m===t.prompt?"/assets/icons/tick.svg":"/assets/icons/copy.svg",width:12,height:12})})]}),(0,a.jsx)("p",{className:"my-4 font-satoshi text-sm text-gray-700",children:t.prompt}),(0,a.jsx)("p",{className:"font-inter text-sm blue_gradient cursor-pointer",onClick:()=>s&&s(t.tag),children:t.tag}),(null==d?void 0:d.user.id)===t.creator._id&&"/profile"===u&&(0,a.jsxs)("div",{className:"mt-5 flex-center gap-4 border-t border-gray-100 pt-3",children:[(0,a.jsx)("p",{className:"font-inter text-sm green_gradient cursor-pointer",onClick:i,children:"Edit"}),(0,a.jsx)("p",{className:"font-inter text-sm orange_gradient cursor-pointer",onClick:c,children:"Delete"})]})]})}},4033:function(e,t,s){e.exports=s(8165)}},function(e){e.O(0,[601,691,971,596,744],function(){return e(e.s=7352)}),_N_E=e.O()}]);